<html>
<head><title>WAD file structure</title></head>
<body>
<p>Props go out to the many folks out there who have figured out this stuff before I did.  Hopefully I can summarize some of what I consider to be the important points here.
<p>Header information
<ul>
<li>Bytes 00-03: WAD type - either PWAD or IWAD
<li>Bytes 04-07: Number of lumps (long)
</ul>

<p>All long integers in WAD files are 32 bit unsigned longs in little-endian format.  So the byte sequence <code>202 2 0 0</code> is really <code>0 0 2 202</code> which translates to <code>724</code> decimal.  I'm using the following Ruby snippet to do this transformation: 
<pre>
y=""
[202,2,0,0].each {|x| y << x.chr }
y.unpack("V")
</pre>

<p>Some notes from a fella on Slashdot - the WAD file builder only needs to generate the THINGS, LINEDEFS, SIDEDEFS, VERTEXES, AND SECTORS.  Everything else is generated by a <a href="http://doombsp.sf.net/">BSP node builder</a>.
</body>
</html>
